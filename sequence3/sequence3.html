<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√©quence 3 - Angular Modulaire & Lazy Loading</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
            height: 100vh;
        }

        .presentation-container {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 1200px;
            margin:  30px auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 60px;
            animation: slideIn 0.5s ease-out;
            overflow-y: auto;
            max-height: 80vh;
        }

        .slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #667eea;
            font-size: 2.8em;
            margin-bottom: 30px;
            border-bottom: 4px solid #667eea;
            padding-bottom: 15px;
        }

        h2 {
            color: #764ba2;
            font-size: 2em;
            margin: 25px 0 15px 0;
        }

        h3 {
            color: #555;
            font-size: 1.5em;
            margin: 20px 0 10px 0;
        }

        p, li {
            font-size: 1.2em;
            line-height: 1.8;
            color: #333;
            margin-bottom: 15px;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
        }

        .highlight {
            background: #fff3cd;
            padding: 20px;
            border-left: 5px solid #ffc107;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        code {
            background: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #c7254e;
            font-size: 0.95em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }

        pre code {
            background: transparent;
            color: #f8f8f2;
            padding: 0;
        }

        .controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        button {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            background: #667eea;
            color: white;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            color: #667eea;
            z-index: 1000;
        }

        .date-badge {
            display: inline-block;
            background: #764ba2;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .emoji {
            font-size: 1.3em;
            margin-right: 5px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .folder-tree {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
        }

        .folder-tree .folder {
            color: #ffc107;
            font-weight: bold;
        }

        .folder-tree .file {
            color: black;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .step-number {
            display: inline-block;
            width: 35px;
            height: 35px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 10px;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            padding: 20px;
            border-radius: 10px;
        }

        .comparison-before {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }

        .comparison-after {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        strong {
            color: #667eea;
        }
        /* Code sur fond clair - plus lisible */
        pre.code-light {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }

        pre.code-light code {
            background: transparent;
            color: #333;
            padding: 0;
            font-weight: 700;
        }
           .container {
       
            padding: 3rem;
            border-radius: 1rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .back-button {
                display: inline-flex;
                align-items: center;
                gap: 10px;
                background: white;
                color: #667eea;
                padding: 12px 25px;
                border-radius: 50px;
                text-decoration: none;
                font-weight: bold;
                transition: all 0.3s ease;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

    </style>
</head>
<body>
    <div class="presentation-container">

        <div class="container">
            <a href="../index.html" class="back-button">‚Üê Retour au dashboard</a>
            <div class="slide-counter">
                <span id="current-slide">1</span> / <span id="total-slides">30</span>
            </div>

        </div>
        

        <!-- Slide 1 -->
        <div class="slide active">
            <h1>Objectifs de la s√©ance</h1>
            <div class="date-badge">üìÖ Date: 28/11/2025 & 17/12/2025</div>
            
            <div class="success-box">
                <h3>√Ä la fin de cette s√©ance, les apprenants seront capables de:</h3>
                <ul>
                    <li><strong>Concevoir</strong> une architecture Angular modulaire et scalable</li>
                    <li><strong>Utiliser</strong> loadChildren() et le routing modulaire</li>
                    <li><strong>Cr√©er</strong> une zone d'injection et y g√©n√©rer un composant √† la vol√©e</li>
                    <li><strong>Comprendre</strong> quand utiliser des composants dynamiques (cas r√©els)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <h1>Modulariser son application ?</h1>
            
            <div class="highlight">
                <h3><span class="emoji">üéØ</span> D√©finition</h3>
                <p><strong>Modulariser</strong> = rendre l'application plus claire, performante et √©volutive.</p>
            </div>

            <div class="info-box">
                <p>Quand une application grandit, on ne peut plus tout mettre dans <code>home/</code>.</p>
                <p>On doit organiser le code par <strong>fonctionnalit√©s (features)</strong>, pas par types de fichiers.</p>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide">
            <h1>Faire grandir son application</h1>
            
            <div class="warning-box">
                <h3><span class="emoji">‚ö†Ô∏è</span> Un composant ne suffit plus quand la logique devient complexe</h3>
                
                <p>Dans TaskBoard Pro :</p>
                <ul>
                    <li>Home affichait les t√¢ches</li>
                    <li>Home ajoutait des t√¢ches</li>
                    <li>Home √©tait aussi la page d'accueil</li>
                </ul>
                
                <p><strong>‚Üí Un composant unique devient vite fourre-tout.</strong></p>
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <h1>Modulariser = s√©parer l'application par grands blocs fonctionnels</h1>
            
            <p>Comme dans une vraie application pro, on cr√©e des <strong>features</strong> :</p>
            
            <div class="folder-tree">
<span class="folder">features/</span>
   <span class="folder">tasks/</span>
   <span class="folder">auth/</span>
   <span class="folder">admin/</span>
            </div>

            <div class="success-box">
                <h3>Les features deviennent ind√©pendantes, une feature :</h3>
                <ul>
                    <li>a sa propre page (<code>tasks-page</code>)</li>
                    <li>a ses propres composants</li>
                    <li>peut √©voluer sans casser le reste de l'app</li>
                    <li>peut √™tre charg√©e en <strong>Lazy Loading</strong></li>
                </ul>
            </div>
        </div>

        <!-- Slide 5 -->
        <div class="slide">
            <h1>Et notre service Task ?</h1>
            
            <div class="info-box">
                <p>Le service reste dans <code>core/</code></p>
                <p>Parce qu'il est <strong>partag√© entre plusieurs features</strong>.</p>
            </div>

            <div class="highlight">
                <h3><span class="emoji">üí°</span> R√®gle importante</h3>
                <p><strong>On d√©place les pages, pas les services</strong></p>
            </div>
        </div>

      <!-- Slide 6 - Injection de D√©pendances -->
        <div class="slide">
            <h1>üíâ Injection de D√©pendances (DI)</h1>
            
            <div class="info-box">
                <h3>Qu'est-ce que l'injection de d√©pendances ?</h3>
                <p>Angular fournit automatiquement les services dont un composant a besoin. Pas besoin de cr√©er les instances manuellement !</p>
            </div>

            <h2>Syntaxe classique : Constructor</h2>
            <pre class="code-light"><code>import { Component } from '@angular/core';
import { TaskService } from '../services/task.service';

export class TasksPageComponent {
tasks$ = this.taskService.tasks$;

constructor(private taskService: TaskService) {}

addTask(title: string) {
    this.taskService.addTask(title);
}
}</code></pre>

            <h2>Syntaxe moderne : inject() <span style="color: #28a745;"></span></h2>
            <pre class="code-light"><code>import { Component, inject } from '@angular/core';
import { TaskService } from '../services/task.service';

export class TasksPageComponent {
private taskService = inject(TaskService);
tasks$ = this.taskService.tasks$;

addTask(title: string) {
    this.taskService.addTask(title);
}
}</code></pre>

            <div class="highlight">
                <h3>üí° Quelle syntaxe choisir ?</h3>
                <ul>
                    <li><strong>inject()</strong> : Plus moderne, plus concis, recommand√© pour les nouveaux projets</li>
                    <li><strong>constructor</strong> : Toujours valide, plus courant dans les anciens projets</li>
                    <li>Les deux font exactement la m√™me chose !</li>
                </ul>
            </div>
        </div>

        <!-- Slide 7 -->
        <div class="slide">
            <h1>Une application modulaire permet :</h1>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>‚úÖ √âviter que Home fasse tout</h4>
                    <p>Chaque page g√®re sa propre logique</p>
                </div>
                
                <div class="feature-card">
                    <h4>‚úÖ D√©placer la gestion des t√¢ches</h4>
                    <p>Le code est rang√© par fonctionnalit√© dans <code>features/tasks</code></p>
                </div>
                
                <div class="feature-card">
                    <h4>‚úÖ Garder le service dans core</h4>
                    <p>Car il doit √™tre accessible √† toutes les features</p>
                </div>
                
                <div class="feature-card">
                    <h4>‚úÖ Activer le Lazy Loading</h4>
                    <p>Seules les pages n√©cessaires sont charg√©es</p>
                </div>
                
                <div class="feature-card">
                    <h4>‚úÖ Faire √©voluer l'app proprement</h4>
                    <p>Structure claire, scalable et professionnelle</p>
                </div>
            </div>
        </div>

        <!-- Slide 8 -->
        <div class="slide">
            <h1>Qu'est-ce que le Lazy Loading ?</h1>
            
            <div class="highlight">
                <h3><span class="emoji">üì¶</span> D√©finition</h3>
                <p>Le <strong>Lazy Loading</strong> consiste √† charger une partie de l'application <strong>uniquement lorsqu'elle est n√©cessaire</strong>.</p>
            </div>

            <div class="info-box">
                <h3>En clair :</h3>
                <ul>
                    <li>L'application d√©marre <strong>plus vite</strong> (moins de code √† charger au d√©but)</li>
                    <li>On ne charge un module que quand l'utilisateur <strong>navigue vers lui</strong></li>
                    <li>Angular d√©coupe l'application en "blocs" charg√©s <strong>√† la demande</strong></li>
                </ul>
            </div>
        </div>
<!-- Nouveau Slide 9 - Impact concret du Lazy Loading -->
<div class="slide">
    <h1>üìä Impact concret du Lazy Loading</h1>
    
    <h2>Exemple : Application TaskBoard Pro</h2>
    
    <div class="comparison">
        <div class="comparison-item comparison-before">
            <h3>‚ùå Sans Lazy Loading</h3>
            <ul>
                <li><strong>Bundle initial :</strong> 850 KB</li>
                <li><strong>Temps de chargement :</strong> 3.2s</li>
                <li><strong>Modules charg√©s :</strong> Tous (Home, Tasks, Admin, Auth)</li>
            </ul>
            <p style="margin-top: 20px; font-size: 1em; color: #dc3545;">
                ‚ö†Ô∏è L'utilisateur t√©l√©charge du code qu'il n'utilisera peut-√™tre jamais
            </p>
        </div>
        
        <div class="comparison-item comparison-after">
            <h3>‚úÖ Avec Lazy Loading</h3>
            <ul>
                <li><strong>Bundle initial :</strong> 320 KB</li>
                <li><strong>Temps de chargement :</strong> 1.1s</li>
                <li><strong>Modules charg√©s :</strong> Home uniquement</li>
            </ul>
            <p style="margin-top: 20px; font-size: 1em; color: #28a745;">
                ‚úÖ Gain de <strong>62%</strong> sur le bundle initial !
            </p>
        </div>
    </div>

    <div class="success-box">
        <h3>üöÄ Chargement progressif</h3>
        <p>Quand l'utilisateur navigue vers <code>/tasks</code> :</p>
        <ul>
            <li>Angular charge uniquement le module <code>tasks</code> (~180 KB)</li>
            <li>Temps de chargement additionnel : ~0.5s</li>
            <li>Navigation fluide et instantan√©e apr√®s le premier chargement</li>
        </ul>
    </div>

    <div class="info-box">
        <h3>üìà R√©sultat pour l'utilisateur</h3>
        <ul>
            <li><strong>Page d'accueil :</strong> Affichage 2x plus rapide</li>
            <li><strong>Exp√©rience mobile :</strong> √âconomie de donn√©es significative</li>
            <li><strong>SEO :</strong> Meilleur score de performance Google</li>
        </ul>
    </div>

    <div class="highlight">
        <p><strong>üí° R√®gle d'or :</strong> Plus votre application est grande, plus le Lazy Loading est indispensable !</p>
    </div>
</div>

        <!-- Slide 10 -->
        <div class="slide">
            <h1>Avantages du Lazy Loading</h1>
            
            <div class="success-box">
                <h2><span class="emoji">üöÄ</span> Le Lazy Loading rend l'application :</h2>
                <ul>
                    <li><strong>Plus rapide</strong> au d√©marrage</li>
                    <li><strong>Plus fluide</strong> en navigation</li>
                    <li><strong>Plus √©volutive</strong> pour les grands projets</li>
                    <li><strong>Plus performante</strong> en production</li>
                </ul>
            </div>
        </div>

        <!-- Slide 11 -->
        <div class="slide">
            <h1>Activer le Lazy Loading</h1>
            
            <div class="info-box">
                <p>Le Lazy Loading permet √† Angular de charger le code d'une fonctionnalit√© (ex : page Admin, Tasks, Dashboard) <strong>uniquement quand l'utilisateur l'ouvre</strong>.</p>
            </div>

            <h3>Nouvelle structure de TaskBoard Pro</h3>
            
            <div class="folder-tree">
<span class="folder">src/</span>
  <span class="folder">app/</span>
    <span class="folder">features/</span>
      <span class="folder">tasks/</span>
        <span class="folder">tasks-page/</span>
          <span class="file">tasks-page.component.ts</span>
          <span class="file">tasks-page.component.html</span>
        <span class="file">routes.ts</span>
        <hr>
    <span class="folder">core/</span>
      <span class="folder">services/</span>
        <span class="file">task.service.ts</span>
    <span class="file">app.routes.ts</span>
            </div>

            <div class="highlight">
                <p><strong>Cr√©ons le composant tasks-page :</strong></p>
                <pre class="code-light"><code>ng g c features/tasks/tasks-page</code></pre>
            </div>
        </div>

        <!-- Slide 12 -->
        <div class="slide">
            <h1>Adapter app.routes.ts au Lazy Loading</h1>
            
            <div class="comparison">
                <div class="comparison-item comparison-before">
                    <h3>‚ùå Sans Lazy Loading</h3>
                    <p>Toutes les routes sont charg√©es au d√©marrage, m√™me si l'utilisateur n'utilise pas toutes les pages.</p>
                    <p><strong>R√©sultat :</strong> l'application est plus lourde et plus lente √† d√©marrer.</p>
                </div>
                
                <div class="comparison-item comparison-after">
                    <h3>‚úÖ Avec Lazy Loading</h3>
                    <p>Chaque route charge uniquement le code n√©cessaire quand l'utilisateur y acc√®de.</p>
                    <p><strong>R√©sultat :</strong> d√©marrage rapide et chargement optimis√©.</p>
                </div>
            </div>
        </div>

        <!-- Slide 13 -->
        <div class="slide">
            <h1>Cr√©ation de routes.ts dans tasks-page</h1>
            
            <div class="info-box">
                <h3><span class="emoji">üìÑ</span> Fichier obligatoire pour Lazy Loading</h3>
                <p>Ce fichier correspond au <strong>"mini-routing"</strong> interne √† la fonctionnalit√©</p>
            </div>

            <pre class="code-light"><code>// features/tasks/routes.ts
import { Routes } from '@angular/router';
import { TasksPageComponent } from './tasks-page/tasks-page.component';

export const TASKS_ROUTES: Routes = [
  { path: '', component: TasksPageComponent }
];</code></pre>
        </div>

        <!-- Slide 14 -->
        <div class="slide">
            <h1>Exemple de routes.ts avec Lazy Loading</h1>
            
            <div class="highlight">
                <p><code>loadChildren()</code> indique √† Angular de charger une fonctionnalit√© <strong>uniquement lorsque la route est utilis√©e</strong>.</p>
                <p>Au lieu d'afficher directement un composant, Angular charge un fichier de routes, puis le composant associ√©.</p>
            </div>

            <pre class="code-light"><code>// app.routes.ts
import { Routes } from '@angular/router';

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { 
    path: 'tasks', 
    loadChildren: () => import('./features/tasks/routes')
      .then(m => m.TASKS_ROUTES)
  },
  { 
    path: 'about', 
    loadChildren: () => import('./features/about/routes')
      .then(m => m.ABOUT_ROUTES)
  }
];</code></pre>
        </div>

        <!-- Slide 15 -->
        <div class="slide">
            <h1>On transf√®re le contenu de home.ts dans tasks-page</h1>
            
            <div class="info-box">
                <p>Toute la logique de gestion des t√¢ches est d√©plac√©e dans le composant d√©di√© <code>tasks-page.component.ts</code></p>
            </div>

            <pre class="code-light"><code>// features/tasks/tasks-page/tasks-page.component.ts
import { Component } from '@angular/core';
import { TaskService } from '../../../core/services/task.service';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-tasks-page',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './tasks-page.component.html'
})
export class TasksPageComponent {
  tasks$ = this.taskService.tasks$;

  constructor(private taskService: TaskService) {}

  addTask(title: string) {
    this.taskService.addTask(title);
  }
}</code></pre>
        </div>

        <!-- Slide 16 -->
        <div class="slide">
            <h1>On all√®ge home.ts et modifie la navigation</h1>
            
            <div class="success-box">
                <h3>Le composant Home devient simple</h3>
                <p>Il n'affiche plus les t√¢ches directement, mais propose un lien vers <code>/tasks</code></p>
            </div>

            <pre class="code-light"><code>// home.component.html
&lt;div class="welcome"&gt;
  &lt;h1&gt;Bienvenue sur TaskBoard Pro&lt;/h1&gt;
  &lt;p&gt;G√©rez vos t√¢ches efficacement&lt;/p&gt;
  &lt;a routerLink="/tasks"&gt;Voir mes t√¢ches&lt;/a&gt;
&lt;/div&gt;</code></pre>

            <div class="highlight">
                <p><span class="emoji">üí°</span> <strong>Avantage :</strong> Home charge rapidement, et la page Tasks n'est charg√©e que si l'utilisateur clique sur le lien !</p>
            </div>
        </div>

        <!-- Slide 17 -->
        <div class="slide">
            <h1>Introduction aux composants dynamiques</h1>
            
            <div class="info-box">
                <h3>Par d√©faut, Angular affiche des composants d√©clar√©s dans le template :</h3>
                <pre class="code-light"><code>&lt;app-header&gt;&lt;/app-header&gt;
&lt;router-outlet&gt;&lt;/router-outlet&gt;</code></pre>
            </div>

            <div class="highlight">
                <p>Mais il est parfois n√©cessaire d'afficher un composant <strong>seulement √† la demande</strong>, sans qu'il soit pr√©sent dans le HTML au d√©part.</p>
                <p><strong>‚Üí C'est ce qu'on appelle l'affichage dynamique de composants.</strong></p>
            </div>
        </div>

        <!-- Slide 18 -->
        <div class="slide">
            <h1>Pourquoi afficher des composants dynamiquement ?</h1>
            
            <h3><span class="emoji">üéØ</span> Cas d'usage concrets</h3>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üîî Modals / Popups</h4>
                    <p>Ouvrir une popup / modal sans page d√©di√©e</p>
                </div>
                
                <div class="feature-card">
                    <h4>üì¢ Notifications</h4>
                    <p>Afficher une notification (toast) inject√©e dans la page</p>
                </div>
                
                <div class="feature-card">
                    <h4>üìã Listes dynamiques</h4>
                    <p>Ajouter un composant dans une liste en fonction d'un √©v√©nement</p>
                </div>
                
                <div class="feature-card">
                    <h4>üñ±Ô∏è Interactions</h4>
                    <p>Charger un composant uniquement quand un utilisateur clique sur un bouton</p>
                </div>
                
                <div class="feature-card">
                    <h4>üé® UI √©volutive</h4>
                    <p>Tableaux configurables, panneaux, widgets‚Ä¶</p>
                </div>
            </div>
        </div>

        <!-- Slide 19 -->
        <div class="slide">
            <h1>Comment Angular cr√©e un composant √† la demande ?</h1>
            
            <p>Angular peut cr√©er et afficher un composant √† la demande, m√™me s'il n'est pas pr√©sent dans le template au d√©part.</p>
            
            <div class="info-box">
                <h3><span class="emoji">üîπ</span> 1. Une zone d'injection (un "conteneur")</h3>
                <p>C'est un emplacement dans la page o√π Angular peut ins√©rer le composant.</p>
                <p><strong>Dans le template :</strong></p>
                <pre class="code-light"><code>&lt;div #container&gt;&lt;/div&gt;</code></pre>
            </div>

            <div class="success-box">
                <h3><span class="emoji">üîπ</span> 2. ViewContainerRef</h3>
                <p>C'est une r√©f√©rence vers ce conteneur.</p>
                <p>Elle permet √† Angular d'ajouter un composant dans cette zone.</p>
                <p><strong>Fichier .ts :</strong></p>
                <pre class="code-light"><code>@ViewChild('container', { read: ViewContainerRef })
container!: ViewContainerRef;</code></pre>
            </div>
        </div>

        <!-- Slide 20 -->
        <div class="slide">
            <h1>createComponent()</h1>
            
            <div class="highlight">
                <h3><span class="emoji">üîπ</span> 3. createComponent()</h3>
                <p>C'est la m√©thode qui <strong>cr√©e et ins√®re</strong> le composant dynamique.</p>
                <p><strong>Fichier .ts :</strong></p>
                <pre class="code-light"><code>this.container.createComponent(AlertComponent);</code></pre>
            </div>

            <div class="success-box">
                <h3>√Ä retenir</h3>
                <ul>
                    <li><strong>ViewContainerRef</strong> = l'endroit o√π afficher le composant</li>
                    <li><strong>createComponent()</strong> = l'action qui l'affiche</li>
                    <li>Tout est natif, simple et compatible Angular Standalone</li>
                </ul>
            </div>
        </div>

        <!-- Slide 21 -->
        <div class="slide">
            <h1>Exemple: panneau ¬´ T√¢che importante ¬ª</h1>
            
            <div class="info-box">
                <p><strong>Cr√©er un composant qui affichera une t√¢che "mise en avant":</strong></p>
                <pre class="code-light"><code>ng g c features/tasks/task-highlight</code></pre>
            </div>

            <pre class="code-light"><code>import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-task-highlight',
  imports: [],
  template: `
    &lt;div class="task-highlight"&gt;
      &lt;h3&gt;T√¢che mise en avant&lt;/h3&gt;
      &lt;p&gt;{{ title }}&lt;/p&gt;
    &lt;/div&gt;
  `,
  styleUrl: './task-highlight.css',
})
export class TaskHighlight {
  @Input() title = ''; // le composant peut recevoir une donn√©e (le titre ici)
}</code></pre>
        </div>

        <!-- Slide 22 -->
        <div class="slide">
            <h1>Exemple 2/3</h1>
            
            <div class="info-box">
                <p>Le bouton "Mettre en avant" appelle la m√©thode <code>highlight(t)</code> avec la t√¢che cliqu√©e.</p>
            </div>

          
        <pre class="code-light"><code>// tasks-page.component.html
        &lt;h2&gt;Liste des t√¢ches&lt;/h2&gt;
        @if (tasks$ | async; as tasks) {
        &lt;ul&gt;
            @for (t of tasks; track t.id) {
            &lt;li&gt;
                {{ t.title }}
                &lt;button type="button" (click)="highlight(t)"&gt;
                Mettre en avant
                &lt;/button&gt;
            &lt;/li&gt;
            }
        &lt;/ul&gt;
        } @else {
        &lt;p&gt;Chargement des t√¢ches...&lt;/p&gt;
        }

        &lt;hr /&gt;

        &lt;h3&gt;Actions&lt;/h3&gt;
        &lt;button (click)="addTask('Nouvelle t√¢che')"&gt;Ajouter une t√¢che&lt;/button&gt;

        &lt;!-- Zone d'injection du composant dynamique --&gt;
        &lt;div #highlightContainer&gt;&lt;/div&gt;</code></pre>

            <div class="highlight">
                <p><code>&lt;div #highlightContainer&gt;</code> ‚Üí c'est la <strong>zone d'injection</strong> du composant dynamique.</p>
            </div>
        </div>

        <!-- Slide 23 -->
        <div class="slide">
            <h1>Exemple 3/3</h1>
            
            <pre class="code-light"><code>
// tasks-page.ts

import { Component, ViewChild, ViewContainerRef } from '@angular/core';
import { TaskHighlight } from '../task-highlight/task-highlight.component';

@Component({ ... })
export class TasksPageComponent {
  @ViewChild('highlightContainer', { read: ViewContainerRef })
  container!: ViewContainerRef;

  highlight(task: Task) {
    // Efface le contenu pr√©c√©dent
    this.container.clear();
    
    // Cr√©e le composant TaskHighlight
    const ref = this.container.createComponent(TaskHighlight);
    
    // Passe les donn√©es au composant
    ref.instance.title = task.title;
  }
}</code></pre>

            <div class="success-box">
                <p>Quand l'utilisateur clique sur <strong>Mettre en avant</strong>, Angular cr√©e le composant <code>TaskHighlight</code> dans la zone <code>#highlightContainer</code> et lui passe la t√¢che choisie.</p>
                <p><strong>C'est un composant dynamique :</strong> il n'existe pas dans le HTML au d√©part.</p>
            </div>
        </div>

        <!-- Slide 24 -->
        <div class="slide">
            <h1>Les op√©rateurs RxJS</h1>
            
            <div class="info-box">
                <h3>Pourquoi RxJS a des op√©rateurs ?</h3>
                <p>Les <strong>Observables</strong> diffusent des valeurs dans le temps.</p>
                <p>Souvent, on veut :</p>
                <ul>
                    <li><strong>transformer</strong> ces valeurs ‚Üí <code>map()</code></li>
                    <li><strong>filtrer</strong> certaines valeurs ‚Üí <code>filter()</code></li>
                    <li><strong>observer</strong> sans modifier ‚Üí <code>tap()</code></li>
                    <li><strong>attendre</strong> un d√©lai ‚Üí <code>delay()</code></li>
                    <li><strong>encha√Æner</strong> des actions ‚Üí <code>concatMap()</code></li>
                    <li><strong>annuler</strong> l'ancienne valeur pour en garder une nouvelle ‚Üí <code>switchMap()</code></li>
                    <li><strong>lancer</strong> plusieurs flux en parall√®le ‚Üí <code>mergeMap()</code></li>
                </ul>
            </div>

            <div class="highlight">
                <p><strong>Un op√©rateur = une action appliqu√©e au flux.</strong></p>
            </div>
        </div>

        <!-- Slide 25 -->
        <div class="slide">
            <h1>Utilisation des op√©rateurs</h1>

  <div class="info-box">
    <h3>üìå Rappel : of() cr√©e un Observable</h3>
    <p><code>of()</code> est une fonction RxJS qui cr√©e un Observable qui √©met les valeurs pass√©es en param√®tres, puis se termine.</p>
    <pre class="code-light"><code>import { of } from 'rxjs';

// √âmet 3 valeurs : "Bonjour", "√†", "tous" puis se termine
messageAccueil$ = of("Bonjour", "√†", "tous");

// Dans le template avec async pipe
&lt;p&gt;{{ messageAccueil$ | async }}&lt;/p&gt;
// Affiche : "tous" (la derni√®re valeur √©mise)</code></pre>
    <p><strong>Note :</strong> Le pipe <code>async</code> s'abonne automatiquement et affiche la derni√®re valeur.</p>
</div>
            
   </div>   

   <!-- Slide 26 -->
<div class="slide">
    <h1>Op√©rateurs essentiels : map() et filter()</h1>
    
    <div class="success-box">
        <h3><span class="emoji">üîÑ</span> map() - Transformer les valeurs</h3>
        <p>Transforme chaque valeur √©mise par l'Observable</p>
        <pre class="code-light"><code>import { map, of } from 'rxjs';

// Exemple 1 : Transformer des nombres
of(1, 2, 3).pipe(
  map(x => x * 10)
);
// R√©sultat : 10, 20, 30

// Exemple 2 : Transformer des t√¢ches
tasks$ = this.tasksSubject.asObservable().pipe(
  map(tasks => tasks.filter(t => !t.completed))
);
// Retourne uniquement les t√¢ches non termin√©es</code></pre>
    </div>

    <div class="info-box">
        <h3><span class="emoji">üîç</span> filter() - Filtrer les valeurs</h3>
        <p>Ne garde que les valeurs qui respectent une condition</p>
        <pre class="code-light"><code>import { filter, of } from 'rxjs';

// Exemple 1 : Filtrer des nombres
of(1, 2, 3, 4, 5, 6).pipe(
  filter(x => x % 2 === 0)
);
// R√©sultat : 2, 4, 6 (uniquement les pairs)

// Exemple 2 : Filtrer des valeurs non nulles
of('Angular', null, 'RxJS', undefined, 'TypeScript').pipe(
  filter(value => value !== null && value !== undefined)
);
// R√©sultat : 'Angular', 'RxJS', 'TypeScript'</code></pre>
</div>
</div>
<!-- Slide 27 -->
<div class="slide">
    <h1>Exemple avec tap() et delay()</h1>
    
    <div class="info-box">
        <h3><span class="emoji">üëÅÔ∏è</span> tap() - Observer les valeurs</h3>
        <pre class="code-light"><code>// task.service.ts (tap doit √™tre import√©)
tasks$ = this.tasksSubject.asObservable().pipe(
  tap(tasks => console.log('Nouvelle liste :', tasks))
);

// tap() permet de regarder les valeurs qui passent dans l'observable
// Console.log doit passer par cet op√©rateur sinon il n'est pas appel√©</code></pre>
    </div>

    <div class="success-box">
        <h3><span class="emoji">‚è±Ô∏è</span> delay() - Diff√©rer l'√©mission</h3>
        <pre class="code-light"><code>import { AsyncPipe } from '@angular/common';
import { delay, of } from 'rxjs';

messageAccueil$ = of("Bonjour", "√†", "tous").pipe(
  delay(1000)
);
// delay() met 1 seconde avant d'√©mettre TOUT le flux
// les 3 mots arrivent d'un seul coup

// Dans le template
&lt;p&gt;{{ messageAccueil$ | async }}&lt;/p&gt;</code></pre>
    </div>
</div>

<!-- Slide 28 -->
<div class="slide">
    <h1>Op√©rateurs de transformation du flux</h1>
    
    <div class="success-box">
        <h3><span class="emoji">üîó</span> concatMap() - Traitement s√©quentiel</h3>
        <pre class="code-light"><code>of("Bonjour", "√†", "tous").pipe(
  concatMap(x => of(x).pipe(delay(500)))
);

// Traite chaque mot l'un apr√®s l'autre
// Attend 500ms entre chaque √©mission
// ‚úÖ Ordre garanti : "Bonjour" ‚Üí "√†" ‚Üí "tous"</code></pre>
    </div>

    <div class="info-box">
        <h3><span class="emoji">üîÑ</span> switchMap() - Annulation et remplacement</h3>
        <pre class="code-light"><code>of("Bonjour", "√†", "tous").pipe(
  switchMap(x => of(x).pipe(delay(500)))
);

// Chaque nouvelle valeur annule la pr√©c√©dente
// Seule la DERNI√àRE survit apr√®s 500ms
// üéØ R√©sultat : "tous" uniquement</code></pre>
    </div>

    <div class="highlight">
        <h3><span class="emoji">‚ö°</span> mergeMap() - Traitement parall√®le</h3>
        <pre class="code-light"><code>of("Bonjour", "√†", "tous").pipe(
  mergeMap(x => of(x).pipe(delay(500)))
);

// Lance TOUT en parall√®le
// Les valeurs arrivent presque en m√™me temps (apr√®s ~500ms)
// ‚ö†Ô∏è Ordre NON garanti</code></pre>
    </div>
</div>
<!-- Slide 29 - Autres op√©rateurs RxJS utiles -->
<div class="slide">
    <h1>Autres op√©rateurs RxJS utiles</h1>
    
    <div class="info-box">
        <h3>üì¶ Op√©rateurs de cr√©ation</h3>
        <ul>
            <li><code>from()</code> - Transforme un tableau/promesse en Observable</li>
            <li><code>interval()</code> - √âmet un nombre toutes les X ms (chronom√®tre)</li>
            <li><code>timer()</code> - Attend X ms puis √©met</li>
            <li><code>startWith()</code> - Commence avec une valeur initiale</li>
        </ul>
    </div>

    <div class="warning-box">
        <h3>‚ö†Ô∏è Gestion d'erreurs</h3>
        <ul>
            <li><code>catchError()</code> - Intercepte et g√®re les erreurs</li>
            <li><code>retry()</code> - R√©essaye automatiquement en cas d'√©chec</li>
            <li><code>finalize()</code> - Ex√©cute du code √† la fin (succ√®s OU erreur)</li>
        </ul>
        <pre class="code-light"><code>this.http.get('/api/tasks').pipe(
  retry(3),                    // R√©essaye 3 fois
  catchError(error => {
    console.error('Erreur:', error);
    return of([]);             // Retourne tableau vide
  }),
  finalize(() => console.log('Requ√™te termin√©e'))
);</code></pre>
    </div>

    <div class="success-box">
        <h3>üîó Op√©rateurs de combinaison</h3>
        <ul>
            <li><code>combineLatest()</code> - Combine plusieurs Observables (prend les derni√®res valeurs)</li>
            <li><code>forkJoin()</code> - Attend que tous les Observables soient termin√©s</li>
            <li><code>withLatestFrom()</code> - Combine un flux principal avec un flux secondaire</li>
        </ul>
    </div>

    <div class="highlight">
        <h3>üéØ Op√©rateurs utilitaires</h3>
        <ul>
            <li><code>take()</code> - Prend seulement les N premi√®res valeurs</li>
            <li><code>takeUntil()</code> - √âmet jusqu'√† un signal d'arr√™t (nettoyage)</li>
            <li><code>debounceTime()</code> - Ignore les valeurs trop rapproch√©es (auto-compl√©tion)</li>
            <li><code>distinctUntilChanged()</code> - Ignore les doublons cons√©cutifs</li>
        </ul>
    </div>
</div>

    


        <!-- Slide 30 -->
<div class="slide">
    <h1>Conclusion de la s√©quence 3 (1/2)</h1>
    
    <h2>Ce que vous avez appris dans cette s√©ance</h2>
    
    <div class="success-box">
        <h3><span class="step-number">1</span> Structurer une application Angular de mani√®re modulaire</h3>
        <ul>
            <li>Cr√©ation du dossier <code>features/</code></li>
            <li>S√©paration claire : Home, About, Tasks, etc.</li>
            <li>Code plus lisible, plus organis√©, plus √©volutif</li>
            <li>Professionnalisant pour un vrai projet</li>
        </ul>
    </div>

    <div class="info-box">
        <h3><span class="step-number">2</span> Mettre en place le Lazy Loading</h3>
        <ul>
            <li><code>loadChildren()</code> pour charger une fonctionnalit√© √† la demande</li>
            <li>Routes d√©di√©es dans <code>features/.../routes.ts</code></li>
            <li>Am√©lioration des performances (bundle plus l√©ger)</li>
            <li>Concept cl√© pour les vraies applications Angular modernes</li>
        </ul>
    </div>
</div>

       <!-- Slide 31 -->
<div class="slide">
    <h1>Conclusion de la s√©quence 3 (2/2)</h1>
    
    <div class="highlight">
        <h3><span class="step-number">3</span> Cr√©er et afficher un composant dynamique</h3>
        <ul>
            <li>Utilisation de <code>ViewContainerRef</code></li>
            <li>Cr√©ation d'un composant √† la demande via <code>createComponent()</code></li>
            <li>Passage de donn√©es via <code>ref.instance.title</code></li>
        </ul>
    </div>

    <div class="info-box">
        <h3><span class="step-number">4</span> Ma√Ætriser les op√©rateurs RxJS essentiels</h3>
        <ul>
            <li>Transformation : <code>map()</code>, <code>concatMap()</code>, <code>switchMap()</code>, <code>mergeMap()</code></li>
            <li>Filtrage : <code>filter()</code></li>
            <li>Observation : <code>tap()</code></li>
            <li>Temporisation : <code>delay()</code></li>
        </ul>
    </div>

    <div class="success-box">
        <h3><span class="emoji">üìö</span> En r√©sum√©</h3>
        <p>Gr√¢ce √† cette s√©ance, vous savez maintenant :</p>
        <ul>
            <li><strong>Structurer</strong> une application Angular professionnelle et modulaire</li>
            <li><strong>Optimiser</strong> le chargement avec le Lazy Loading</li>
            <li><strong>Cr√©er</strong> des composants dynamiques √† la vol√©e</li>
            <li><strong>Manipuler</strong> des flux de donn√©es avec RxJS</li>
        </ul>
    </div>
</div>

        <!-- Slide 32 -->
        <div class="slide">
            <h1>TP ‚Äî S√©quence 3</h1>
            
            <div class="info-box">
                <h3><span class="step-number">1</span> Cr√©e une nouvelle branche Git</h3>
                <pre class="code-light"><code>git checkout -b Lazy-Highlight</code></pre>
            </div>

            <div class="success-box">
                <h3><span class="step-number">2</span> Mettre en place le Lazy Loading</h3>
                <p>Ajouter le Lazy Loading pour <code>/tasks</code> et <code>/about</code></p>
            </div>

            <div class="highlight">
                <h3><span class="step-number">3</span> Ajouter la fonctionnalit√© Highlight</h3>
                <ul>
                    <li>Cr√©er un composant dynamique <code>TaskHighlight</code></li>
                    <li>Ajouter un bouton "Mettre en avant" dans la liste des t√¢ches</li>
                    <li>Injecter dynamiquement le composant avec <code>ViewContainerRef</code></li>
                </ul>
            </div>

            <div class="info-box">
                <h3><span class="step-number">4</span> Mettre √† jour le README.md</h3>
                <p>Cr√©er une section : <strong>## S√©quence 3 ‚Äî Lazy Loading & Composants dynamiques</strong></p>
                <p>Elle doit contenir une explication simple de ce que vous avez compris :</p>
                <ul>
                    <li>Ce qu'est le Lazy Loading</li>
                    <li>Comment on structure une app avec <code>features/</code></li>
                    <li>Ce qu'est un composant dynamique</li>
                    <li>Comment fonctionne <code>ViewContainerRef + createComponent()</code></li>
                </ul>
            </div>
        </div>

        <div class="controls">
            <button id="prev-btn">‚Üê Pr√©c√©dent</button>
            <button id="next-btn">Suivant ‚Üí</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const currentSlideSpan = document.getElementById('current-slide');
        const totalSlidesSpan = document.getElementById('total-slides');

        totalSlidesSpan.textContent = totalSlides;

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[n].classList.add('active');
            currentSlideSpan.textContent = n + 1;
            
            prevBtn.disabled = n === 0;
            nextBtn.disabled = n === totalSlides - 1;
            
            // Scroll to top when changing slides
            slides[n].scrollTop = 0;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        }

        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>